%% Model of a pendulum
%% Params

% state
theta = pi/3.0;
dtheta = 0;
x_0 = [theta; dtheta];

% input
u = 0;

% constants
A = 100.0; % rad/s^2
B = 2.0; % rad/s
C = 2.0; % rad/(s^2*V)

% time
t = 0;
dt = 0.001;
t_end = 7;

% helper
n_steps = t_end/dt;
x_history = zeros(2, n_steps);
x_history(1,1) = x_0(1);
x_history(2,1) = x_0(2);

% simulation
for i = 2:n_steps
    t = t + dt;
    x_history(1,i) = x_history(1,i-1) + dt.* x_history(2,i-1);
    x_history(2,i) = x_history(2,i-1) + dt.* pendulum(x_history(2,i-1), u);
end

function x = pendulum(x, u)
    x = -A * sin(x(1)) - B * x(2) + C * u;
end


% function x = integrate(x)
%     
% end